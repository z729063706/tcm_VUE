{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/medicine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/medicine.vue","mtime":1659193899994},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXNnOiAiSGVsbG8g566h55CG5ZGY566h55CGIiwKICAgICAgbWVkaWNpbmVOYW1lOiAiIiwKICAgICAgbWVkaWNpbmVQcmljZTogIiIsCiAgICAgIG1lZGljaW5lTGVmdG51bWJlcjogIiIsCiAgICAgIG1lZGljaW5lRGVzYzogIiIsCiAgICAgIG1lZGljaW5lSWQ6ICIiLAogICAgICBkaWFsb2FkQWRkVmlldzogZmFsc2UsCiAgICAgIG1lZGljaW5lTGlzdDoge30KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHt9LAogIG1ldGhvZHM6IHsKICAgIG1lZGljaW5lQWRkOiBmdW5jdGlvbiBtZWRpY2luZUFkZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgbmFtZTogdGhpcy5tZWRpY2luZU5hbWUsCiAgICAgICAgcHJpY2U6IHRoaXMubWVkaWNpbmVQcmljZSwKICAgICAgICBsZWZ0bnVtYmVyOiB0aGlzLm1lZGljaW5lTGVmdG51bWJlciwKICAgICAgICBzaG9ydF9kZXNjOiB0aGlzLm1lZGljaW5lRGVzYywKICAgICAgICBpZDogdGhpcy5tZWRpY2luZUlkCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKG9iaik7CiAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2FwaS91cGRhdGVtZWRlY2luZSIsIG9iaikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIua3u+WKoOaIkOWKnyIKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuZGlhbG9hZEFkZFZpZXcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0bWVkZWNpbmUiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLm1lZGljaW5lTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5tZWRpY2luZUxpc3Quc3BsaWNlKDAsIDEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICLns7vnu5/plJnor68iCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG1lZGVjaW5lRWRpdDogZnVuY3Rpb24gbWVkZWNpbmVFZGl0KHNjb3BlKSB7CiAgICAgIHRoaXMuZGlhbG9hZEFkZFZpZXcgPSB0cnVlOwogICAgICB0aGlzLm1lZGljaW5lTmFtZSA9IHNjb3BlLm5hbWU7CiAgICAgIHRoaXMubWVkaWNpbmVQcmljZSA9IHNjb3BlLnByaWNlOwogICAgICB0aGlzLm1lZGljaW5lTGVmdG51bWJlciA9IHNjb3BlLmxlZnRudW1iZXI7CiAgICAgIHRoaXMubWVkaWNpbmVEZXNjID0gc2NvcGUuc2hvcnRfZGVzYzsKICAgICAgdGhpcy5tZWRpY2luZUlkID0gc2NvcGUuaWQ7CiAgICAgIHRoaXMuZGlhbG9hZEFkZFZpZXcgPSB0cnVlOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0bWVkZWNpbmUiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMyLm1lZGljaW5lTGlzdCA9IHJlcy5kYXRhOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["medicine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,aADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,EAHA;AAIA,MAAA,kBAAA,EAAA,EAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,UAAA,EAAA,EANA;AAOA,MAAA,cAAA,EAAA,KAPA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAeA,EAAA,QAAA,EAAA,EAfA;AAgBA,EAAA,KAAA,EAAA,EAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,GAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,YADA;AAEA,QAAA,KAAA,EAAA,KAAA,aAFA;AAGA,QAAA,UAAA,EAAA,KAAA,kBAHA;AAIA,QAAA,UAAA,EAAA,KAAA,YAJA;AAKA,QAAA,EAAA,EAAA,KAAA;AALA,OAAA;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAAA,KAAA,CACA,IADA,CACA,qBADA,EACA,GADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,SADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;;AAIA,QAAA,KAAA,CAAA,cAAA,GAAA,KAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,SAHA;;AAIA,QAAA,KAAA,CAAA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAAA;AACA,OAbA,EAcA,KAdA,CAcA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA,OAnBA;AAoBA,KA9BA;AA+BA,IAAA,YA/BA,wBA+BA,KA/BA,EA+BA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,KAAA,CAAA,IAAA;AACA,WAAA,aAAA,GAAA,KAAA,CAAA,KAAA;AACA,WAAA,kBAAA,GAAA,KAAA,CAAA,UAAA;AACA,WAAA,YAAA,GAAA,KAAA,CAAA,UAAA;AACA,WAAA,UAAA,GAAA,KAAA,CAAA,EAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA;AAvCA,GAjBA;AA2DA,EAAA,OA3DA,qBA2DA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAHA;AAIA;AAhEA,CAAA","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/medicine' }\">药物管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"content\">\n      <!-- <el-button size=\"mini\" type=\"default\" @click=\"dialoadAddView= true\">添加药物</el-button> -->\n      <el-dialog class=\"dialog-addUser\" title=\"药物信息编辑\" :visible.sync=\"dialoadAddView\">\n        <div class=\"layout-row\">\n          <h3>药物名称</h3>\n          <el-input v-model=\"medicineName\" placeholder=\"请输入药物名称\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>单价</h3>\n          <el-input v-model=\"medicinePrice\" placeholder=\"请输入每g单价\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>余量</h3>\n          <el-input v-model=\"medicineLeftnumber\" placeholder=\"请输入余量(默认为最多,25535)\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>缩写</h3>\n          <el-input v-model=\"medicineDesc\" placeholder=\"自定义拼音缩写\"></el-input>\n        </div>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialoadAddView = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"medicineAdd\">确 定</el-button>\n        </div>\n      </el-dialog>\n      <el-table\n        :data=\"medicineList\"\n        :row-class-name=\"isVaild\"\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"name\" label=\"品名\"></el-table-column>\n        <el-table-column prop=\"price\" label=\"单价\"></el-table-column>\n        <el-table-column prop=\"leftnumber\" label=\"余量\"></el-table-column>\n        <el-table-column prop=\"short_desc\" label=\"拼音缩写\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <!-- <el-button size=\"mini\" type=\"danger\" @click=\"picDelete(scope.row.id)\">删除</el-button> -->\n            <el-button size=\"mini\" type=\"danger\" @click=\"medecineEdit(scope.row)\">编辑</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      msg: \"Hello 管理员管理\",\n      medicineName:\"\",\n      medicinePrice:\"\",\n      medicineLeftnumber:\"\",\n      medicineDesc:\"\",\n      medicineId:\"\",\n      dialoadAddView: false,\n      medicineList:{}\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n    medicineAdd() {\n      let obj = {\n        name: this.medicineName,\n        price: this.medicinePrice,\n        leftnumber: this.medicineLeftnumber,\n        short_desc: this.medicineDesc,\n        id : this.medicineId\n      };\n      console.log(obj);\n      this.axios\n        .post(\"/api/updatemedecine\", obj)\n        .then(res => {\n            this.$message({\n              type: \"success\",\n              message: \"添加成功\"\n            });\n            this.dialoadAddView = false;\n            this.axios.get(\"api/getmedecine\")\n            .then(res=>{\n              this.medicineList = res.data;\n            });\n            this.medicineList.splice(0, 1);\n        })\n        .catch(() => {\n          this.$message({\n              type: \"error\",\n              message: \"系统错误\"\n            });\n        });\n    },\n    medecineEdit(scope){\n      this.dialoadAddView = true;\n      this.medicineName = scope.name;\n      this.medicinePrice = scope.price;\n      this.medicineLeftnumber = scope.leftnumber;\n      this.medicineDesc = scope.short_desc;\n      this.medicineId = scope.id;\n      this.dialoadAddView= true\n    }\n  },\n\n  mounted() {\n    this.axios.get(\"api/getmedecine\")\n    .then(res=>{\n      this.medicineList = res.data;\n    });\n  }\n};\n</script>\n<style>\n.dialog-addUser h3 {\n  width: 100px;\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n.el-table .inVaildRow {\n    background: #f0b9b7 !important ;\n  }\n</style>\n"],"sourceRoot":"src/components/admin"}]}