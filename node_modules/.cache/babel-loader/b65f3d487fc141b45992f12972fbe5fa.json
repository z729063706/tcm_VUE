{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/manage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/manage.vue","mtime":1658995651025},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdsb2JhbCBmcm9tICIuLi8uLi9nbG9iYWwuanMiOyAvLyBWdWUucHJvdG90eXBlLiRnbG9iYWxVc2VyID0gZ2xvYmFsOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0eXBlOiAiMSIsCiAgICAgIHRhYmxlRGF0YTogewogICAgICAgIGN1cnJlbnROdW06IDAsCiAgICAgICAgbnVtOiAxMCwKICAgICAgICBwYWdlOiAxCiAgICAgIH0sCiAgICAgIG5ld3M6IHt9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBuZXdzVHlwZTogZnVuY3Rpb24gbmV3c1R5cGUodHlwZSkgewogICAgICBpZiAodHlwZSA9PSAnMScpIHsKICAgICAgICByZXR1cm4gIuaVmeWtpuaVmeWKoSI7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnMicpIHsKICAgICAgICByZXR1cm4gIumAmuefpeWFrOWRiiI7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnMycpIHsKICAgICAgICByZXR1cm4gIuaImOaenOaNt+aKpSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJCVUchISEhIjsKICAgICAgfQogICAgfSwKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UocGFnZSkgewogICAgICB0aGlzLnRhYmxlRGF0YS5jdXJyZW50TnVtID0gMTAgKiAocGFnZSAtIDEpOwogICAgfSwKICAgIGNoYW5nZU5ld1R5cGU6IGZ1bmN0aW9uIGNoYW5nZU5ld1R5cGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiYXBpL25ld3M/dHlwZT0iICsgdGhpcy50eXBlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5uZXdzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVZpZXc6IGZ1bmN0aW9uIGhhbmRsZVZpZXcoaWQpIHsKICAgICAgLy9jb25zb2xlLmxvZyhpZCkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvcmVhZE5ld3MvIiArIGlkCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paw6Ze7LCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vY29uc29sZS5sb2coZ2xvYmFsLnVzZXIpOwogICAgICAgIF90aGlzMi5heGlvcy5nZXQoImFwaS9kZWxuZXdzP2lkPSIgKyBpZCArICImdW5hbWU9IiArIGdsb2JhbC51c2VyLnVuYW1lICsgIiZ1cGFzcz0iICsgZ2xvYmFsLnVzZXIudXBhc3MpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmNoYW5nZU5ld1R5cGUoKTsgLy90aGlzLnRhYmxlRGF0YS5saXN0LnNwbGljZSgwLCAxKTsKCgogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIgogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLnlKjmiLfmnYPpmZDkuI3otrMhIiArIGUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzlj5bmtogiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHR5cGVJZFRvVGV4dDogZnVuY3Rpb24gdHlwZUlkVG9UZXh0KHR5cGUpIHsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmV0dXJuICLng63ngrnmlrDpl7siOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gIuagoeWbreW/q+iuryI7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJldHVybiAi5aqS5L2T55m95LqRIjsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmV0dXJuICLlqpLkvZPnmb3kupEiOwogICAgICB9CiAgICB9CiAgfSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjlj6/ku6Xorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY2hhbmdlTmV3VHlwZSgpOwogIH0sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5oyC6L295a6M5oiQ77yI5Y+v5Lul6K6/6ZeuRE9N5YWD57Sg77yJCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvL3dpbmRvdy5jb25zb2xlLmxvZyh0aGlzLnRhYmxlRGF0YSkKICAgIC8vIHRoaXMudGFibGVEYXRhID0gdGhpcy5uZXdzLmhvdDsKICB9LAogIC8vIOeUn+WRveWRqOacnyAtIOWIm+W7uuS5i+WJjQogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5oyC6L295LmL5YmNCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5pu05paw5LmL5YmNCiAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoKSB7fSwKICAvLyDnlJ/lkb3lkajmnJ8gLSDmm7TmlrDkuYvlkI4KICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30sCiAgLy8g55Sf5ZG95ZGo5pyfIC0g6ZSA5q+B5LmL5YmNCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHt9LAogIC8vIOeUn+WRveWRqOacnyAtIOmUgOavgeWujOaIkAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkge30KfTs="},{"version":3,"sources":["manage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/manage' }\">新闻管理</el-breadcrumb-item>\n      <el-select v-model=\"type\" @change=\"changeNewType\" class=\"typeSelecter\">\n        <el-option value=\"1\" label=\"教学教务\">教学教务</el-option>\n        <el-option value=\"2\" label=\"通知公告\">通知公告</el-option>\n        <el-option value=\"3\" label=\"战果捷报\">战果捷报</el-option>\n      </el-select>\n    </el-breadcrumb>\n    <div style=\"margin:10px\"></div>\n\n    <el-table :data=\"news.slice(tableData.currentNum,tableData.currentNum+tableData.num)\" border style=\"width: 100%\">\n      <el-table-column prop=\"creatTime\" label=\"日期\" width=\"180\"></el-table-column>\n      <el-table-column prop=\"title\" label=\"标题\"></el-table-column>\n      <el-table-column prop=\"auther\" width=\"60\" label=\"作者\"></el-table-column>\n      <el-table-column prop=\"type\" width=\"120\" label=\"类型\">{{newsType(type)}}</el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"success\" @click=\"handleView(scope.row.id)\">查看</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row.id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination\">\n      <el-pagination\n        layout=\"prev, pager, next\"\n        :page-size=\"1\"\n        :current-page=\"tableData.Page\"\n        :total=\"news.length/tableData.num\"\n        @current-change=\"changePage\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport global from '../../global.js';\n// Vue.prototype.$globalUser = global;\nexport default {\n  components: {},\n  data() {\n    return {\n      type: \"1\",\n      tableData: {\n        currentNum:0,\n        num:10,\n        page:1\n      },\n      news:{},\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n    \n    newsType(type){\n      if (type == '1'){\n        return \"教学教务\";\n      }else if(type == '2'){\n        return \"通知公告\"\n      }else if(type == '3'){\n        return \"战果捷报\"\n      }else{\n        return \"BUG!!!!\"\n      }\n    },\n\n\n    changePage(page) {\n      this.tableData.currentNum = 10*(page-1)\n    },\n    changeNewType() {\n      this.axios.get(\"api/news?type=\"+this.type).then(res=>{\n      this.news = res.data;\n    });\n    },\n    handleView(id) {\n      //console.log(id)\n      this.$router.push({\n        path: \"/readNews/\"+id,\n      });\n    },\n    handleDelete(id) {\n      this.$confirm(\"此操作将永久删除该新闻, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          //console.log(global.user);\n          this.axios.get(\"api/delnews?id=\"+id+\"&uname=\"+global.user.uname+\"&upass=\"+global.user.upass)\n          .then(() => {\n            this.changeNewType()\n            //this.tableData.list.splice(0, 1);\n            this.$message({\n              type: \"success\",\n              message: \"删除成功\"\n            });\n          })\n          .catch((e)=>{\n            this.$message({\n            type: \"error\",\n            message: \"用户权限不足!\"+e\n          });\n          })\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"操作取消\"\n          });\n        });\n    },\n    typeIdToText(type) {\n      switch (type) {\n        case 0:\n          return \"热点新闻\";\n        case 1:\n          return \"校园快讯\";\n        case 2:\n          return \"媒体白云\";\n        case 3:\n          return \"媒体白云\";\n      }\n    }\n  },\n  // 生命周期 - 创建完成（可以访问当前this实例）\n  created() {\n    this.changeNewType();\n  },\n  // 生命周期 - 挂载完成（可以访问DOM元素）\n  mounted() {\n    //window.console.log(this.tableData)\n    // this.tableData = this.news.hot;\n  },\n  // 生命周期 - 创建之前\n  beforeCreate() {},\n  // 生命周期 - 挂载之前\n  beforeMount() {},\n  // 生命周期 - 更新之前\n  beforeUpdate() {},\n  // 生命周期 - 更新之后\n  updated() {},\n  // 生命周期 - 销毁之前\n  beforeDestroy() {},\n  // 生命周期 - 销毁完成\n  destroyed() {}\n};\n</script>\n<style scoped>\n.pagination {\n  float: right;\n}\n.el-select{\n  width: auto;\n}\n.typeSelecter {\n  float: right;\n}\n</style>\n"],"sourceRoot":"src/components/admin"}]}