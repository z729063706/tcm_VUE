{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/tongji.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/tongji.vue","mtime":1658995651025},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGdsb2JhbCBmcm9tICIuLi8uLi9nbG9iYWwuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1zZzogIkhlbGxvIOeuoeeQhuWRmOeuoeeQhiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICByb2xlOiAibmV3c2FkbWluIiwKICAgICAgdG9uZ2ppTGlzdDoge30sCiAgICAgIHVzZXJDb3VudDogMCwKICAgICAgbmV3c0NvdW50OiAwLAogICAgICB0ZWFjaGVyQ291bnQ6IDAsCiAgICAgIHBpY0NvdW50OiAwLAogICAgICBsb2dpbkNvdW50OiAwLAogICAgICBsb2dzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDoge30sCiAgbWV0aG9kczoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5heGlvcy5nZXQoImFwaS90b25namkiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMudG9uZ2ppTGlzdCA9IHJlcy5kYXRhLml0ZW1zWzFdOyAvL2NvbnNvbGUubG9nKHRoaXMudG9uZ2ppTGlzdCk7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MucG9zdCgiYXBpL2dldHVzZXJsaXN0P3VuYW1lPSIgKyBnbG9iYWwudXNlci51bmFtZSArICImdXBhc3M9IiArIGdsb2JhbC51c2VyLnVwYXNzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMudXNlckNvdW50ID0gcmVzLmRhdGEubGVuZ3RoOyAvL2NvbnNvbGUubG9nKHRoaXMudXNlckNvdW50KTsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS9uZXdzP3R5cGU9MSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5uZXdzQ291bnQgPSBfdGhpcy5uZXdzQ291bnQgKyByZXMuZGF0YS5sZW5ndGg7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvbmV3cz90eXBlPTIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMubmV3c0NvdW50ID0gX3RoaXMubmV3c0NvdW50ICsgcmVzLmRhdGEubGVuZ3RoOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL25ld3M/dHlwZT0zIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLm5ld3NDb3VudCA9IF90aGlzLm5ld3NDb3VudCArIHJlcy5kYXRhLmxlbmd0aDsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS90ZWFjaGVyIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnRlYWNoZXJDb3VudCA9IHJlcy5kYXRhLmxlbmd0aDsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS9tYWlucGljIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLnBpY0NvdW50ID0gcmVzLmRhdGEubGVuZ3RoOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL2NvdW50bG9naW4iKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMubG9naW5Db3VudCA9IHJlcy5kYXRhOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL2dldGxvZz9saW1pdD01MCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5sb2dzID0gcmVzLmRhdGE7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["tongji.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,MAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,aADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,WAJA;AAKA,MAAA,UAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,CANA;AAOA,MAAA,SAAA,EAAA,CAPA;AAQA,MAAA,YAAA,EAAA,CARA;AASA,MAAA,QAAA,EAAA,CATA;AAUA,MAAA,UAAA,EAAA,CAVA;AAWA,MAAA,IAAA,EAAA;AAXA,KAAA;AAaA,GAhBA;AAkBA,EAAA,QAAA,EAAA,EAlBA;AAmBA,EAAA,KAAA,EAAA,EAnBA;AAoBA,EAAA,OAAA,EAAA,EApBA;AAuBA,EAAA,OAvBA,qBAuBA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CADA,CAEA;AACA,KAJA;AAKA,SAAA,KAAA,CAAA,IAAA,CAAA,2BAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,SAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA,CADA,CAEA;AACA,KAJA;AAKA,SAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,aAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,aAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAFA;AAGA;AAvDA,CAAA","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/tongji' }\">数据统计</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"content\">\n    <h4>*浏览量数据来源于百度统计(埋点信息正在开发中)</h4>\n    <h2>奥林学院-后台统计</h2>\n    <el-descriptions title=\"浏览量统计\">\n        <el-descriptions-item label=\"近三天浏览量次数\"><el-tag size=\"small\">{{tongjiList[0][0]+tongjiList[1][0]+tongjiList[2][0]}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"近三天访问用户数\"><el-tag size=\"small\">{{tongjiList[0][1]+tongjiList[1][1]+tongjiList[2][1]}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"近三天访问IP数\"><el-tag size=\"small\">{{tongjiList[0][2]+tongjiList[1][2]+tongjiList[2][2]}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"用户行为统计\">\n        <el-descriptions-item label=\"总用户数\"><el-tag size=\"small\">{{userCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总登陆次数\"><el-tag size=\"small\">{{loginCount}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"网站内容统计\">\n        <el-descriptions-item label=\"总新闻数\"><el-tag size=\"small\">{{newsCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总教师数\"><el-tag size=\"small\">{{teacherCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总轮播图\"><el-tag size=\"small\">{{picCount}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"近50条用户记录\"></el-descriptions>\n    <el-table\n        :data=\"logs\"\n        style=\"width: 100%\"\n    >\n        <el-table-column prop=\"uname\" label=\"用户名\"></el-table-column>\n        <el-table-column prop=\"action\" label=\"执行操作\"></el-table-column>\n        <el-table-column prop=\"time\" label=\"操作时间\"></el-table-column>\n    </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport global from \"../../global.js\"\nexport default {\n  components: {},\n  data() {\n    return {\n      msg: \"Hello 管理员管理\",\n      username: \"\",\n      password: \"\",\n      role: \"newsadmin\",\n      tongjiList:{},\n      userCount:0,\n      newsCount:0,\n      teacherCount:0,\n      picCount:0,\n      loginCount:0,\n      logs:{}\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n\n  },\n  mounted() {\n    this.axios.get(\"api/tongji\")\n    .then(res=>{\n      this.tongjiList = res.data.items[1];\n      //console.log(this.tongjiList);\n    });\n    this.axios.post(\"api/getuserlist?uname=\"+global.user.uname+\"&upass=\"+global.user.upass)\n    .then(res=>{\n      this.userCount = res.data.length;\n      //console.log(this.userCount);\n    });\n    this.axios.get(\"api/news?type=1\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/news?type=2\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/news?type=3\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/teacher\").then(res=>{\n      this.teacherCount = res.data.length;\n    });\n    this.axios.get(\"api/mainpic\").then(res=>{\n      this.picCount = res.data.length;\n    });\n    this.axios.get(\"api/countlogin\").then(res=>{\n      this.loginCount = res.data;\n    });\n    this.axios.get(\"api/getlog?limit=50\").then(res=>{\n      this.logs = res.data;\n    });\n  }\n};\n</script>\n<style>\n.dialog-addUser h3 {\n  width: 100px;\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":"src/components/admin"}]}