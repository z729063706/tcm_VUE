{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/print.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/print.vue","mtime":1659197691765},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQaW55aW5NYXRjaCBmcm9tICdwaW55aW4tbWF0Y2gnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVkaWNpbmVMaXN0Ont9LAogICAgICBwYXRpZW50TGlzdDp7fSwKICAgICAgcGF0aWVudG5hbWU6ICIiLAogICAgICBtZWRpY2luZTpbewogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICB1c2FnZTonJywKICAgICAgICAgICAgICAgIHByaWNlOicnCiAgICAgICAgICAgIH1dCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDoge30sCiAgbWV0aG9kczogewogICAgICAgIGFkZExpbmUoKXsgLy/mt7vliqDooYzmlbAKICAgICAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHsKICAgICAgICAgICAgICAgIGlkOiAnJywKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgdXNhZ2U6JycsCiAgICAgICAgICAgICAgICBwcmljZTonJwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIC8v5re75Yqg5paw55qE6KGM5pWwCiAgICAgICAgICAgIHRoaXMubWVkaWNpbmUucHVzaChuZXdWYWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVEZWxldGUoaW5kZXgpeyAvL+WIoOmZpOihjOaVsAogICAgICAgICAgICB0aGlzLm1lZGljaW5lLnNwbGljZShpbmRleCwgMSkKICAgICAgICB9LAogICAgICAgIHNhdmUoKXsKICAgICAgICAgIC8v6L+Z6YOo5YiG5bqU6K+l5piv5L+d5a2Y5o+Q5Lqk5L2g5re75Yqg55qE5YaF5a65CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLm1lZGljaW5lKSkKICAgICAgICB9LAogICAgICAgIG1lZGljaW5lU2VsZWN0KHNjb3BlKXsKICAgICAgICAgICAgY29uc29sZS5sb2coc2NvcGUpOwogICAgICAgICAgICBzY29wZS5pZCA9IHRoaXMubWVkaWNpbmVMaXN0W3Njb3BlLnJvdy5uYW1lXS5pZDsKICAgICAgICB9LAogICAgICAgUGlueWluTWF0Y2godmFsKXsKICAgICAgICBpZih2YWwpewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gW10KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb3B5Q3VzdG9tZXIpOwogICAgICAgICAgICB0aGlzLmNvcHlDdXN0b21lci5mb3JFYWNoKGk9PnsKICAgICAgICAgICAgbGV0IG0gPSBQaW55aW5NYXRjaC5tYXRjaChpLm5hbWUsdmFsKSAvL25hbWXmmK/opoHov4fmu6TnmoTlrZfmrrUKICAgICAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5jdXN0b21lciA9IHJlc3VsdAogICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLmN1c3RvbWVyPXRoaXMuY29weUN1c3RvbWVyCiAgICAgICAgfQogICAgICAgIH0sCgogICAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0bWVkZWNpbmUiKQogICAgLnRoZW4ocmVzPT57CiAgICAgIHRoaXMubWVkaWNpbmVMaXN0ID0gcmVzLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0cGF0aWVudCIpCiAgICAudGhlbihyZXM9PnsKICAgICAgdGhpcy5wYXRpZW50TGlzdCA9IHJlcy5kYXRhOwogICAgfSk7CiAgfQp9Owo="},{"version":3,"sources":["print.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"print.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <div class>\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item :to=\"{ path: '/admin/print' }\">处方打印</el-breadcrumb-item>\n        </el-breadcrumb>\n        <div class=\"content\">\n            <!-- 选择患者信息 -->\n            <el-select\n                v-model=\"patientchoose\"\n                filterable\n                allow-create\n                default-first-option\n                placeholder=\"请选择患者\">\n                <el-option\n                    v-for=\"item in patientList\"\n                    :key=\"item.name\"\n                    :label=\"item.name\"\n                    :value=\"item.name\">\n                </el-option>\n            </el-select>\n            <el-table\n                :data=\"medicine\"\n                style=\"width: 100%\"\n                border>\n            <!-- <el-table-column\n                    prop=\"id\"\n                    label=\"ID\"\n                    width=\"140px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.id\" type=\"number\"></el-input>\n                </template>\n            </el-table-column> -->\n\n            <el-table-column\n                    prop=\"name\"\n                    label=\"药物名称\"\n                    width=\"140px\">\n                <!-- <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.name\" type=\"number\"></el-input>\n                </template> -->\n                <template slot-scope=\"scope\">\n                    <el-select v-model=\"scope.row.name\" filterable :filter-method=\"PinyinMatch\" placeholder=\"选择药材\">\n                        <el-option\n                            @change=\"medicineSelect(scope)\"\n                            v-for=\"item in medicineList\"\n                            :key=\"item.name\"\n                            :label=\"item.name\"\n                            :value=\"item.name\">\n                        </el-option>\n                    </el-select>\n                </template>\n            </el-table-column>\n\n            <el-table-column\n                    prop=\"usage\"\n                    label=\"药物用量\"\n                    width=\"150px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.usage\" type=\"number\"></el-input>\n                </template>\n            </el-table-column>\n\n            <el-table-column\n                    prop=\"price\"\n                    label=\"药物单价\"\n                    width=\"150px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.price\" type=\"number\"></el-input>\n                </template>\n            </el-table-column>\n\n            <el-table-column>\n                <template slot-scope=\"scope\">\n                    <button @click=\"addLine\"\n                            class=\"addBtn\"\n                            v-if=\"scope.$index == medicine.length - 1\">\n                        <i class=\"el-icon-plus\"></i>\n                    </button>\n\n                    <button v-if=\"medicine.length > 1\"\n                            @click=\"handleDelete(scope.$index, scope.row)\"\n                            class=\"del-btn\">\n                        <i class=\"el-icon-minus\"></i>\n                    </button>\n                </template>\n            </el-table-column>\n        </el-table>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\nimport PinyinMatch from 'pinyin-match'\nexport default {\n  components: {},\n  data() {\n    return {\n      medicineList:{},\n      patientList:{},\n      patientname: \"\",\n      medicine:[{\n                id: '',\n                name: '',\n                usage:'',\n                price:''\n            }]\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n        addLine(){ //添加行数\n            this.save();\n            var newValue = {\n                id: '',\n                name: '',\n                usage:'',\n                price:''\n              };\n            //添加新的行数\n            this.medicine.push(newValue);\n        },\n        handleDelete(index){ //删除行数\n            this.medicine.splice(index, 1)\n        },\n        save(){\n          //这部分应该是保存提交你添加的内容\n          console.log(JSON.stringify(this.medicine))\n        },\n        medicineSelect(scope){\n            console.log(scope);\n            scope.id = this.medicineList[scope.row.name].id;\n        },\n       PinyinMatch(val){\n        if(val){\n            let result = []\n            console.log(this.copyCustomer);\n            this.copyCustomer.forEach(i=>{\n            let m = PinyinMatch.match(i.name,val) //name是要过滤的字段\n            if (m) {\n                result.push(i)\n            }\n            })\n            this.customer = result\n        }else{\n            this.customer=this.copyCustomer\n        }\n        },\n\n    },\n\n  mounted() {\n    this.axios.get(\"api/getmedecine\")\n    .then(res=>{\n      this.medicineList = res.data;\n    });\n    this.axios.get(\"api/getpatient\")\n    .then(res=>{\n      this.patientList = res.data;\n    });\n  }\n};\n</script>"]}]}