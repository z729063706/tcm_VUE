{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/teacher.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/teacher.vue","mtime":1658995651025},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBnbG9iYWwgZnJvbSAiLi4vLi4vZ2xvYmFsLmpzIgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1zZzogIkhlbGxvIOeuoeeQhuWRmOeuoeeQhiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICByb2xlOiAibmV3c2FkbWluIiwKICAgICAgdGVhY2hlckxpc3Q6e30KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIGxldCBvYmogPSB7CiAgICAgICAgX2lkOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIHJvbGU6IHRoaXMucm9sZQogICAgICB9OwogICAgICB0aGlzLmF4aW9zCiAgICAgICAgLnBvc3QoIi9hZG1pbi9hZGRBZG1pbiIsIG9iaikKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgLy93aW5kb3cuY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIGlmIChyZXMuZGF0YS5tc2cgPT0gIua3u+WKoOaIkOWKnyIpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmRpYWxvYWRBZGRWaWV3ID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMudXNlcm5hbWU9IiIKICAgICAgICAgICAgdGhpcy5wYXNzd29yZD0iIgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICB1c2VyRWRpdCh1aWQpIHsKICAgICAgLy9jb25zb2xlLmxvZyh1aWQpOwogICAgICB0aGlzLiRwcm9tcHQoIuivt+i+k+WFpeWvhueggSIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIGlucHV0UGF0dGVybjogL14oPyFbQS1aXSskKSg/IVthLXpdKyQpKD8hXGQrJCkoPyFbXFdfXSskKVxTezYsMTZ9JC8sCiAgICAgICAgaW5wdXRFcnJvck1lc3NhZ2U6CiAgICAgICAgICAi5a+G56CB6ZyA6KaB5pyJ5bCP5YaZ5a2X5q+N44CB5aSn5YaZ5a2X5q+N44CB5pWw5a2X44CB54m55q6K56ym5Y+355qE5Lik56eN5Y+K5Lul5LiK5bm25LiU5a+G56CB6ZW/5bqm5ZyoNuWIsDE25L2NIgogICAgICB9KQogICAgICAgIC50aGVuKCh7IHZhbHVlIH0pID0+IHsKICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgIGlkOiB1aWQsCiAgICAgICAgICAgIG5ld3Bhc3M6IHZhbHVlLAogICAgICAgICAgICB1bmFtZTogZ2xvYmFsLnVzZXIudW5hbWUsCiAgICAgICAgICAgIHVwYXNzOiBnbG9iYWwudXNlci51cGFzcwogICAgICAgICAgfTsKICAgICAgICAgIC8vY29uc29sZS5sb2cob2JqKTsKICAgICAgICAgIHRoaXMuYXhpb3MKICAgICAgICAgICAgLnBvc3QoIi9hcGkvdXNlcmVkaXQiLCBvYmopCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5L+u5pS55oiQ5YqfIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIueUqOaIt+adg+mZkOS4jei2syEiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLnlKjmiLfmnYPpmZDkuI3otrMhIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiAi5Y+W5raI5L+u5pS5IgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXNlckRlbGV0ZShpZCkgewogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XnlKjmiLcsIOaYr+WQpue7p+e7rT8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICB1bmFtZTogZ2xvYmFsLnVzZXIudW5hbWUsCiAgICAgICAgICAgIHVwYXNzOiBnbG9iYWwudXNlci51cGFzcywKICAgICAgICAgICAgZGVsaWQ6aWQKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoImFwaS9kZWx1c2VyIixvYmopCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgiYXBpL2dldHVzZXJsaXN0P3VuYW1lPSIrZ2xvYmFsLnVzZXIudW5hbWUrIiZ1cGFzcz0iK2dsb2JhbC51c2VyLnVwYXNzKQogICAgICAgICAgICAudGhlbihyZXM9PnsKICAgICAgICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnVzZXJMaXN0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXNlckxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICBtZXNzYWdlOiAi5pON5L2c5Y+W5raIIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvdGVhY2hlciIpCiAgICAudGhlbihyZXM9PnsKICAgICAgdGhpcy50ZWFjaGVyTGlzdCA9IHJlcy5kYXRhOwogICAgICAvL2NvbnNvbGUubG9nKHRoaXMudGVhY2hlckxpc3QpOwogICAgfSk7CiAgfQp9Owo="},{"version":3,"sources":["teacher.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"teacher.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/teacher' }\">教师管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"content\">\n    \n      <el-table\n        :data=\"teacherList\"\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"id\" label=\"用户id\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\n        <el-table-column prop=\"zhicheng\" label=\"用户类型\"></el-table-column>\n        <el-table-column prop=\"worktime\" label=\"修改时间\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template>\n            <el-button size=\"mini\" type=\"default\" disabled>修改(不可操作)</el-button>\n            <el-button size=\"mini\" type=\"danger\" disabled>删除(不可操作)</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport global from \"../../global.js\"\nexport default {\n  components: {},\n  data() {\n    return {\n      msg: \"Hello 管理员管理\",\n      username: \"\",\n      password: \"\",\n      role: \"newsadmin\",\n      teacherList:{}\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n    handleAdd() {\n      let obj = {\n        _id: this.username,\n        password: this.password,\n        role: this.role\n      };\n      this.axios\n        .post(\"/admin/addAdmin\", obj)\n        .then(res => {\n          //window.console.log(res);\n          if (res.data.msg == \"添加成功\") {\n            this.$message({\n              type: \"success\",\n              message: \"添加成功\"\n            });\n            this.dialoadAddView = false;\n            this.username=\"\"\n            this.password=\"\"\n          } else {\n            this.$message({\n              type: \"danger\",\n              message: res.data.msg\n            });\n          }\n        })\n        .catch(() => {});\n    },\n    userEdit(uid) {\n      //console.log(uid);\n      this.$prompt(\"请输入密码\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^(?![A-Z]+$)(?![a-z]+$)(?!\\d+$)(?![\\W_]+$)\\S{6,16}$/,\n        inputErrorMessage:\n          \"密码需要有小写字母、大写字母、数字、特殊符号的两种及以上并且密码长度在6到16位\"\n      })\n        .then(({ value }) => {\n          let obj = {\n            id: uid,\n            newpass: value,\n            uname: global.user.uname,\n            upass: global.user.upass\n          };\n          //console.log(obj);\n          this.axios\n            .post(\"/api/useredit\", obj)\n            .then(res => {\n              if (res.data) {\n                this.$message({\n                  type: \"success\",\n                  message: \"密码修改成功\"\n                });\n              } else {\n                this.$message({\n                  type: \"danger\",\n                  message: \"用户权限不足!\"\n                });\n              }\n            })\n            .catch(() => {\n              this.$message({\n                type: \"danger\",\n                message: \"用户权限不足!\"\n              });\n            });\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"取消修改\"\n          });\n        });\n    },\n    userDelete(id) {\n      this.$confirm(\"此操作将永久删除该用户, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          let obj = {\n            uname: global.user.uname,\n            upass: global.user.upass,\n            delid:id\n          };\n          this.axios.post(\"api/deluser\",obj)\n          .then(() => {\n            this.axios.post(\"api/getuserlist?uname=\"+global.user.uname+\"&upass=\"+global.user.upass)\n            .then(res=>{\n              this.userList = res.data;\n              //console.log(this.userList);\n            });\n            this.userList.splice(index, 1);\n            this.$message({\n              type: \"success\",\n              message: \"删除成功\"\n            });\n          })\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"操作取消\"\n          });\n        });\n    },\n  },\n  mounted() {\n    this.axios.get(\"api/teacher\")\n    .then(res=>{\n      this.teacherList = res.data;\n      //console.log(this.teacherList);\n    });\n  }\n};\n</script>\n<style>\n.dialog-addUser h3 {\n  width: 100px;\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n</style>\n"]}]}