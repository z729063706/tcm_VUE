{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/tongji.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/tongji.vue","mtime":1658995651025},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBnbG9iYWwgZnJvbSAiLi4vLi4vZ2xvYmFsLmpzIgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1zZzogIkhlbGxvIOeuoeeQhuWRmOeuoeeQhiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICByb2xlOiAibmV3c2FkbWluIiwKICAgICAgdG9uZ2ppTGlzdDp7fSwKICAgICAgdXNlckNvdW50OjAsCiAgICAgIG5ld3NDb3VudDowLAogICAgICB0ZWFjaGVyQ291bnQ6MCwKICAgICAgcGljQ291bnQ6MCwKICAgICAgbG9naW5Db3VudDowLAogICAgICBsb2dzOnt9CiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKICB3YXRjaDoge30sCiAgbWV0aG9kczogewoKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL3RvbmdqaSIpCiAgICAudGhlbihyZXM9PnsKICAgICAgdGhpcy50b25namlMaXN0ID0gcmVzLmRhdGEuaXRlbXNbMV07CiAgICAgIC8vY29uc29sZS5sb2codGhpcy50b25namlMaXN0KTsKICAgIH0pOwogICAgdGhpcy5heGlvcy5wb3N0KCJhcGkvZ2V0dXNlcmxpc3Q/dW5hbWU9IitnbG9iYWwudXNlci51bmFtZSsiJnVwYXNzPSIrZ2xvYmFsLnVzZXIudXBhc3MpCiAgICAudGhlbihyZXM9PnsKICAgICAgdGhpcy51c2VyQ291bnQgPSByZXMuZGF0YS5sZW5ndGg7CiAgICAgIC8vY29uc29sZS5sb2codGhpcy51c2VyQ291bnQpOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL25ld3M/dHlwZT0xIikudGhlbihyZXM9PnsKICAgICAgdGhpcy5uZXdzQ291bnQgPSB0aGlzLm5ld3NDb3VudCtyZXMuZGF0YS5sZW5ndGg7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvbmV3cz90eXBlPTIiKS50aGVuKHJlcz0+ewogICAgICB0aGlzLm5ld3NDb3VudCA9IHRoaXMubmV3c0NvdW50K3Jlcy5kYXRhLmxlbmd0aDsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS9uZXdzP3R5cGU9MyIpLnRoZW4ocmVzPT57CiAgICAgIHRoaXMubmV3c0NvdW50ID0gdGhpcy5uZXdzQ291bnQrcmVzLmRhdGEubGVuZ3RoOwogICAgfSk7CiAgICB0aGlzLmF4aW9zLmdldCgiYXBpL3RlYWNoZXIiKS50aGVuKHJlcz0+ewogICAgICB0aGlzLnRlYWNoZXJDb3VudCA9IHJlcy5kYXRhLmxlbmd0aDsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS9tYWlucGljIikudGhlbihyZXM9PnsKICAgICAgdGhpcy5waWNDb3VudCA9IHJlcy5kYXRhLmxlbmd0aDsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoImFwaS9jb3VudGxvZ2luIikudGhlbihyZXM9PnsKICAgICAgdGhpcy5sb2dpbkNvdW50ID0gcmVzLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0bG9nP2xpbWl0PTUwIikudGhlbihyZXM9PnsKICAgICAgdGhpcy5sb2dzID0gcmVzLmRhdGE7CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["tongji.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tongji.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/tongji' }\">数据统计</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"content\">\n    <h4>*浏览量数据来源于百度统计(埋点信息正在开发中)</h4>\n    <h2>奥林学院-后台统计</h2>\n    <el-descriptions title=\"浏览量统计\">\n        <el-descriptions-item label=\"近三天浏览量次数\"><el-tag size=\"small\">{{tongjiList[0][0]+tongjiList[1][0]+tongjiList[2][0]}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"近三天访问用户数\"><el-tag size=\"small\">{{tongjiList[0][1]+tongjiList[1][1]+tongjiList[2][1]}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"近三天访问IP数\"><el-tag size=\"small\">{{tongjiList[0][2]+tongjiList[1][2]+tongjiList[2][2]}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"用户行为统计\">\n        <el-descriptions-item label=\"总用户数\"><el-tag size=\"small\">{{userCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总登陆次数\"><el-tag size=\"small\">{{loginCount}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"网站内容统计\">\n        <el-descriptions-item label=\"总新闻数\"><el-tag size=\"small\">{{newsCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总教师数\"><el-tag size=\"small\">{{teacherCount}}</el-tag></el-descriptions-item>\n        <el-descriptions-item label=\"总轮播图\"><el-tag size=\"small\">{{picCount}}</el-tag></el-descriptions-item>\n    </el-descriptions>\n    <el-descriptions title=\"近50条用户记录\"></el-descriptions>\n    <el-table\n        :data=\"logs\"\n        style=\"width: 100%\"\n    >\n        <el-table-column prop=\"uname\" label=\"用户名\"></el-table-column>\n        <el-table-column prop=\"action\" label=\"执行操作\"></el-table-column>\n        <el-table-column prop=\"time\" label=\"操作时间\"></el-table-column>\n    </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport global from \"../../global.js\"\nexport default {\n  components: {},\n  data() {\n    return {\n      msg: \"Hello 管理员管理\",\n      username: \"\",\n      password: \"\",\n      role: \"newsadmin\",\n      tongjiList:{},\n      userCount:0,\n      newsCount:0,\n      teacherCount:0,\n      picCount:0,\n      loginCount:0,\n      logs:{}\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n\n  },\n  mounted() {\n    this.axios.get(\"api/tongji\")\n    .then(res=>{\n      this.tongjiList = res.data.items[1];\n      //console.log(this.tongjiList);\n    });\n    this.axios.post(\"api/getuserlist?uname=\"+global.user.uname+\"&upass=\"+global.user.upass)\n    .then(res=>{\n      this.userCount = res.data.length;\n      //console.log(this.userCount);\n    });\n    this.axios.get(\"api/news?type=1\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/news?type=2\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/news?type=3\").then(res=>{\n      this.newsCount = this.newsCount+res.data.length;\n    });\n    this.axios.get(\"api/teacher\").then(res=>{\n      this.teacherCount = res.data.length;\n    });\n    this.axios.get(\"api/mainpic\").then(res=>{\n      this.picCount = res.data.length;\n    });\n    this.axios.get(\"api/countlogin\").then(res=>{\n      this.loginCount = res.data;\n    });\n    this.axios.get(\"api/getlog?limit=50\").then(res=>{\n      this.logs = res.data;\n    });\n  }\n};\n</script>\n<style>\n.dialog-addUser h3 {\n  width: 100px;\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n</style>\n"]}]}