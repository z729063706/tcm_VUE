{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/print.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/print.vue","mtime":1659197896610},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/css-loader/dist/cjs.js","mtime":1658995718131},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1658995718357},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/postcss-loader/src/index.js","mtime":1658995718197},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1zZWxlY3QtZHJvcGRvd257CiAgICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDsKICAgIHRvcDozMHB4ICFpbXBvcnRhbnQ7CiAgICBsZWZ0OiAwcHggIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["print.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA","file":"print.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n    <div class>\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item :to=\"{ path: '/admin/print' }\">处方打印</el-breadcrumb-item>\n        </el-breadcrumb>\n        <div class=\"content\">\n            <!-- 选择患者信息 -->\n            <el-select\n                v-model=\"patientchoose\"\n                filterable\n                allow-create\n                default-first-option\n                placeholder=\"请选择患者\">\n                <el-option\n                    v-for=\"item in patientList\"\n                    :key=\"item.name\"\n                    :label=\"item.name\"\n                    :value=\"item.name\">\n                </el-option>\n            </el-select>\n            <el-table\n                :data=\"medicine\"\n                style=\"width: 100%\"\n                border>\n            <!-- <el-table-column\n                    prop=\"id\"\n                    label=\"ID\"\n                    width=\"140px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.id\" type=\"number\"></el-input>\n                </template>\n            </el-table-column> -->\n\n            <el-table-column\n                    prop=\"name\"\n                    label=\"药物名称\"\n                    width=\"140px\">\n                <!-- <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.name\" type=\"number\"></el-input>\n                </template> -->\n                <template slot-scope=\"scope\">\n                    <el-select v-model=\"scope.row.name\" filterable :filter-method=\"PinyinMatch\" :popper-append-to-body=\"false\" placeholder=\"选择药材\">\n                        <el-option\n                            @change=\"medicineSelect(scope)\"\n                            v-for=\"item in medicineList\"\n                            :key=\"item.name\"\n                            :label=\"item.name\"\n                            :value=\"item.name\">\n                        </el-option>\n                    </el-select>\n                </template>\n            </el-table-column>\n\n            <el-table-column\n                    prop=\"usage\"\n                    label=\"药物用量\"\n                    width=\"150px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.usage\" type=\"number\"></el-input>\n                </template>\n            </el-table-column>\n\n            <el-table-column\n                    prop=\"price\"\n                    label=\"药物单价\"\n                    width=\"150px\">\n                <template slot-scope=\"scope\">\n                    <el-input v-model=\"scope.row.price\" type=\"number\"></el-input>\n                </template>\n            </el-table-column>\n\n            <el-table-column>\n                <template slot-scope=\"scope\">\n                    <button @click=\"addLine\"\n                            class=\"addBtn\"\n                            v-if=\"scope.$index == medicine.length - 1\">\n                        <i class=\"el-icon-plus\"></i>\n                    </button>\n\n                    <button v-if=\"medicine.length > 1\"\n                            @click=\"handleDelete(scope.$index, scope.row)\"\n                            class=\"del-btn\">\n                        <i class=\"el-icon-minus\"></i>\n                    </button>\n                </template>\n            </el-table-column>\n        </el-table>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\nimport PinyinMatch from 'pinyin-match'\nexport default {\n  components: {},\n  data() {\n    return {\n      medicineList:{},\n      patientList:{},\n      patientname: \"\",\n      medicine:[{\n                id: '',\n                name: '',\n                usage:'',\n                price:''\n            }]\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n        addLine(){ //添加行数\n            this.save();\n            var newValue = {\n                id: '',\n                name: '',\n                usage:'',\n                price:''\n              };\n            //添加新的行数\n            this.medicine.push(newValue);\n        },\n        handleDelete(index){ //删除行数\n            this.medicine.splice(index, 1)\n        },\n        save(){\n          //这部分应该是保存提交你添加的内容\n          console.log(JSON.stringify(this.medicine))\n        },\n        medicineSelect(scope){\n            console.log(scope);\n            scope.id = this.medicineList[scope.row.name].id;\n        },\n       PinyinMatch(val){\n        if(val){\n            let result = []\n            console.log(this.copyCustomer);\n            this.copyCustomer.forEach(i=>{\n            let m = PinyinMatch.match(i.name,val) //name是要过滤的字段\n            if (m) {\n                result.push(i)\n            }\n            })\n            this.customer = result\n        }else{\n            this.customer=this.copyCustomer\n        }\n        },\n\n    },\n\n  mounted() {\n    this.axios.get(\"api/getmedecine\")\n    .then(res=>{\n      this.medicineList = res.data;\n    });\n    this.axios.get(\"api/getpatient\")\n    .then(res=>{\n      this.patientList = res.data;\n    });\n  }\n};\n</script>\n\n<style>\n.el-select-dropdown{\n    position: absolute !important;\n    top:30px !important;\n    left: 0px !important;\n}\n</style>"]}]}