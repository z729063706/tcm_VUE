{"remainingRequest":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/medicine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/src/components/admin/medicine.vue","mtime":1659193899994},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/babel-loader/lib/index.js","mtime":1658995718218},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/cache-loader/dist/cjs.js","mtime":1658995717985},{"path":"/Users/zhaoyunhao/Code/html/tcm_VUE/node_modules/vue-loader/lib/index.js","mtime":1658995718269}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXNnOiAiSGVsbG8g566h55CG5ZGY566h55CGIiwKICAgICAgbWVkaWNpbmVOYW1lOiIiLAogICAgICBtZWRpY2luZVByaWNlOiIiLAogICAgICBtZWRpY2luZUxlZnRudW1iZXI6IiIsCiAgICAgIG1lZGljaW5lRGVzYzoiIiwKICAgICAgbWVkaWNpbmVJZDoiIiwKICAgICAgZGlhbG9hZEFkZFZpZXc6IGZhbHNlLAogICAgICBtZWRpY2luZUxpc3Q6e30KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBtZWRpY2luZUFkZCgpIHsKICAgICAgbGV0IG9iaiA9IHsKICAgICAgICBuYW1lOiB0aGlzLm1lZGljaW5lTmFtZSwKICAgICAgICBwcmljZTogdGhpcy5tZWRpY2luZVByaWNlLAogICAgICAgIGxlZnRudW1iZXI6IHRoaXMubWVkaWNpbmVMZWZ0bnVtYmVyLAogICAgICAgIHNob3J0X2Rlc2M6IHRoaXMubWVkaWNpbmVEZXNjLAogICAgICAgIGlkIDogdGhpcy5tZWRpY2luZUlkCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKG9iaik7CiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAucG9zdCgiL2FwaS91cGRhdGVtZWRlY2luZSIsIG9iaikKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIua3u+WKoOaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZGlhbG9hZEFkZFZpZXcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoImFwaS9nZXRtZWRlY2luZSIpCiAgICAgICAgICAgIC50aGVuKHJlcz0+ewogICAgICAgICAgICAgIHRoaXMubWVkaWNpbmVMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLm1lZGljaW5lTGlzdC5zcGxpY2UoMCwgMSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi57O757uf6ZSZ6K+vIgogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBtZWRlY2luZUVkaXQoc2NvcGUpewogICAgICB0aGlzLmRpYWxvYWRBZGRWaWV3ID0gdHJ1ZTsKICAgICAgdGhpcy5tZWRpY2luZU5hbWUgPSBzY29wZS5uYW1lOwogICAgICB0aGlzLm1lZGljaW5lUHJpY2UgPSBzY29wZS5wcmljZTsKICAgICAgdGhpcy5tZWRpY2luZUxlZnRudW1iZXIgPSBzY29wZS5sZWZ0bnVtYmVyOwogICAgICB0aGlzLm1lZGljaW5lRGVzYyA9IHNjb3BlLnNob3J0X2Rlc2M7CiAgICAgIHRoaXMubWVkaWNpbmVJZCA9IHNjb3BlLmlkOwogICAgICB0aGlzLmRpYWxvYWRBZGRWaWV3PSB0cnVlCiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuYXhpb3MuZ2V0KCJhcGkvZ2V0bWVkZWNpbmUiKQogICAgLnRoZW4ocmVzPT57CiAgICAgIHRoaXMubWVkaWNpbmVMaXN0ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["medicine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"medicine.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div class>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{ path: '/admin/medicine' }\">药物管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"content\">\n      <!-- <el-button size=\"mini\" type=\"default\" @click=\"dialoadAddView= true\">添加药物</el-button> -->\n      <el-dialog class=\"dialog-addUser\" title=\"药物信息编辑\" :visible.sync=\"dialoadAddView\">\n        <div class=\"layout-row\">\n          <h3>药物名称</h3>\n          <el-input v-model=\"medicineName\" placeholder=\"请输入药物名称\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>单价</h3>\n          <el-input v-model=\"medicinePrice\" placeholder=\"请输入每g单价\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>余量</h3>\n          <el-input v-model=\"medicineLeftnumber\" placeholder=\"请输入余量(默认为最多,25535)\"></el-input>\n        </div>\n        <div class=\"layout-row\">\n          <h3>缩写</h3>\n          <el-input v-model=\"medicineDesc\" placeholder=\"自定义拼音缩写\"></el-input>\n        </div>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialoadAddView = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"medicineAdd\">确 定</el-button>\n        </div>\n      </el-dialog>\n      <el-table\n        :data=\"medicineList\"\n        :row-class-name=\"isVaild\"\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"name\" label=\"品名\"></el-table-column>\n        <el-table-column prop=\"price\" label=\"单价\"></el-table-column>\n        <el-table-column prop=\"leftnumber\" label=\"余量\"></el-table-column>\n        <el-table-column prop=\"short_desc\" label=\"拼音缩写\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <!-- <el-button size=\"mini\" type=\"danger\" @click=\"picDelete(scope.row.id)\">删除</el-button> -->\n            <el-button size=\"mini\" type=\"danger\" @click=\"medecineEdit(scope.row)\">编辑</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      msg: \"Hello 管理员管理\",\n      medicineName:\"\",\n      medicinePrice:\"\",\n      medicineLeftnumber:\"\",\n      medicineDesc:\"\",\n      medicineId:\"\",\n      dialoadAddView: false,\n      medicineList:{}\n    };\n  },\n\n  computed: {},\n  watch: {},\n  methods: {\n    medicineAdd() {\n      let obj = {\n        name: this.medicineName,\n        price: this.medicinePrice,\n        leftnumber: this.medicineLeftnumber,\n        short_desc: this.medicineDesc,\n        id : this.medicineId\n      };\n      console.log(obj);\n      this.axios\n        .post(\"/api/updatemedecine\", obj)\n        .then(res => {\n            this.$message({\n              type: \"success\",\n              message: \"添加成功\"\n            });\n            this.dialoadAddView = false;\n            this.axios.get(\"api/getmedecine\")\n            .then(res=>{\n              this.medicineList = res.data;\n            });\n            this.medicineList.splice(0, 1);\n        })\n        .catch(() => {\n          this.$message({\n              type: \"error\",\n              message: \"系统错误\"\n            });\n        });\n    },\n    medecineEdit(scope){\n      this.dialoadAddView = true;\n      this.medicineName = scope.name;\n      this.medicinePrice = scope.price;\n      this.medicineLeftnumber = scope.leftnumber;\n      this.medicineDesc = scope.short_desc;\n      this.medicineId = scope.id;\n      this.dialoadAddView= true\n    }\n  },\n\n  mounted() {\n    this.axios.get(\"api/getmedecine\")\n    .then(res=>{\n      this.medicineList = res.data;\n    });\n  }\n};\n</script>\n<style>\n.dialog-addUser h3 {\n  width: 100px;\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n.el-table .inVaildRow {\n    background: #f0b9b7 !important ;\n  }\n</style>\n"]}]}